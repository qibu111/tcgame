(function(e){var t={"top-left":10,"top-right":10,"bottom-left":10,"bottom-right":10},n=10,r={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},i=function(t){var n,i=t.attr("id"),s=t.data("floating-message"),o={},u=0,a=s.range,f=s.position,l=s.duration,c=s.stuffEasing,h=s.hide,p=s.close,d=s.timerId,v=s.height+s.margin+s.padding*2,m=r[s.position];d&&clearTimeout(d);for(n=0;n<m.length;n++){s=m[n];if(i==s.id){u=n;continue}s.range>a&&(s.range-=v,o[s.verticalAlign]=s.range,s.elem.stop().animate(o,{duration:l,easing:c,queue:!1}))}m.splice(u,1),t.stop().hide(h,l,function(){e(this).remove(),p&&p()})};e.floatingMessage=function(s,o){var u="jqueryFloatingMessage"+(new Date).getTime()+""+parseInt(Math.random()*1e4,10),a=e('<div id="'+u+'" class="ui-corner-all ui-floating-message"></div>'),f={},l=0,c=0,h;return o=o||{},o=e.extend(!0,{position:"top-left",verticalAlign:(o.position||"top-left").split("-")[0],align:(o.position||"top-left").split("-")[1],width:300,height:50,time:!1,show:"drop",hide:"drop",padding:10,margin:10,duration:500,stuffEasing:"easeOutBounce",body:e("<div></div>"),open:!1,close:!1,click:i,elem:a,timerId:!1,id:u},o),o.range=t[o.position],l=o.height,c=o.padding,h=o.open,s&&o.body.html(s.replace(/\n/g,"<br />")),o.className&&a.addClass(o.className),f={width:o.width+"px",height:l+"px",zIndex:"9999",position:"fixed",padding:c+"px"},f[o.verticalAlign]=(e(window).height()-o.height)/2-t[o.position],f[o.align]=(e(window).width()-o.width)/2-n,a.css(f).append(o.body),a.bind("destroy.fms",function(){i(a)}),e(document.body).append(a),o.click&&a.bind("click.fms",function(){o.click(a)}),a.show(o.show,o.duration,function(){o.time&&(o.timerId=setTimeout(function(){o.click(a)},o.time)),h&&h()}),r[o.position].push(o),a.data("floating-message",o),o.body},e.fn.floatingMessage=function(t){return this.each(function(){typeof t=="string"?e(this).parent(".ui-floating-message").trigger(t+".fms"):(t=t||{},t.body=this,e.floatingMessage(!1,t))})}})(jQuery)